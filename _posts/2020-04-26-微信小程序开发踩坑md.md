<!--
 * @Description: 记录微信小程序开发时的踩坑
 * @Author: youzi
 * @Date: 2020-04-26 09:23:48
 * @LastEditors: youzi
 * @LastEditTime: 2020-04-26 10:37:13
 -->

# 微信小程序开发踩坑

基于微信小程序，使用初始小程序云开发模板进行开发；

记录一些组件、API 之类的注意事项；

## 正篇

> ·text·组件

- 内容不要换行，要紧贴标签写内容，因为最开头的换行符会被渲染出来。

```html
<!-- bad -->
<text class="" selectable="false" space="false" decode="false">
  content
</text>

<!-- good -->
<text class="" selectable="false" space="false" decode="false">content</text>
```

> ·loading·相关

- 当数据初始化渲染时，可以直接使用 API 控制下拉的·loading·，没必要使用·mp-loading·组件。仅限下拉loading能满足需求时使用，其他要使用到组件的还是推荐用组件。

```html
<!-- not recommended -->
<mp-loading duration="{{500}}" ext-class="loading" type="dot-gray" show="{{show}}" animated="{{animated}}"></mp-loading>
<view wx:if="{{!show}}"></view>

<!-- recommend -->
<view wx:if="{{!show}}"></view>
<!-- js -->
<script>
  onRead() {
    wx.startPullDownRefresh();
  },
  onPullDownRefresh() {
    wx.stopPullDownRefresh();
  },
</script>
```

- 另外目前发现了·mp-loading·组件的bug，设置·type: dot-white·时无法正常渲染；还有就是最好设置·ext-class·并且给一个宽度，有可能会发生只渲染出一个点的情况。
