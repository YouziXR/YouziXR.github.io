### 一些JS实现的面试题

#### 数组扁平化

1. 使用ES6的`Array.prototype.flat()`实现，参数设置为`Infinity`；
2. 使用ES6的扩展运算符，思路：判断数组中每个元素是否为数组，若为数组，调用一次语句`array = [].concat(...array)`，每次调用这条语句都会对数组进行一次一维的扁平化；
3. 递归方法，思路：判断数组每个元素是否为数组，若为数组，递归调用函数，不是数组就`push()`并返回；
4. `reduce`函数实现；

		方法1省略；
	
		方法2：
		function flatArray(arr){
			while(arr.some( item => Array.isArray(item) )){
				arr = [].concat(...arr);
			}
			return arr;
		}
		
		方法3：
		function flatArray(arr){
			var result = [];
			for(let i of arr){
				if(Array.isArray(i)){
					result = result.concat(flatArray(i));
				}else{
					result.push(i);
				}
			}
			return result;
		}
		
		方法4：
		// 和递归方法思路差不多
		function flatArray4(arr){
			return arr.reduce((result, item) => {
				return result.concat(Array.isArray(item) ? flatArray4(item) : item);
			}, []);
		}

#### 实现new

思路：封装成一个函数，第一个参数是构造函数，第二个参数是构造函数的参数。

- 创建空对象，空对象继承构造函数的原型对象；
- 执行一次构造函数，绑定this到新创建的空对象；
- 返回这个对象。

	    function _new(Constructor, ...args) {
	        let tmpObj = Object.create(Constructor.prototype)
	        // tmpObj.__proto__ == Constructor.prototype
	        Constructor.apply(tmpObj, args)
	        return tmpObj
	    }

